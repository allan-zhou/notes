# TCP基础

- 重试机制（超时重试、快速重试、SACK、D-SACK）
- 滑动窗口（发送窗口、接收窗口）
- 流量控制（窗口关闭、糊涂窗口）
- 拥塞控制（慢启动、拥塞避免、拥塞发生、快速恢复）

问题：
1、TCP如何保证可靠传输？不丢包——>确认应答机制（ACK）

2、什么是丢包？数据包丢失、确认应答丢失

3、TCP通过采样得到平均RTT（Round-Trip Time 往返时延），根据RTT设置超时重传时间RTO，超过RTO没有ACK，就触发超时重试

4、什么是快速重试？在RTO之前，连续三次ACK上一次序号，触发快速重试。不以时间维度，以数据维度，实质是为了提效。

5、重传那些数据包？SACK（Selective Acknowledgment 选择性确认）

6、为什么引入滑动窗口？原因：提升吞吐量。窗口大小：无需等待ack，就可以发送数据的最大值。

7、窗口是怎么实现的？操作系统开辟的一个缓存空间，必须在缓存空间保留发送的数据，等到全部收到ack后，可以清除。、

8、窗口的大小由谁决定？接收方。窗口大小会根据接收方处理能力变化，即所谓滑动。

9、什么是流量控制？目的：为了让发送方适配接收方的能力

10、什么是拥塞控制？网络是一个共享资源，tcp是无私的协议，所以要关心拥塞问题！min(拥塞窗口，接收窗口)

11、拥塞算法有哪些？
- 慢启动（指数级增长）
- 拥塞避免（线性）
- 拥塞发生（超时重传{严重}、快速重传{不严重}）
- 快速恢复，一般与快速重传一同使用



## reference

- https://mp.weixin.qq.com/s/HjOUsKn8eLfDogbBX3hPnA
