# 缓存

## 缓存穿透
概念：总是未命中cache，造成请求直接打到db，而缓存没有起到作用。
示例：如请求接口参数id=-1，传一个不存在的id值
解决方案：1、参数校验  *2、布隆过滤器（Bloom Filter） 3、限流组件

## 缓存击穿
概念：在一个时刻，一个cache过期失效（热key），大量并发请求直接打到db，给系统造成很大负载甚至奔溃，此所谓“击穿”；
解决方案：1、热Key永不过期 2、互斥锁  3、限流组件 

## 缓存雪崩
概念：在一个时刻，大量cache同时过期失效，造成大量请求直接打到db，给系统造成很大负载甚至奔溃，此所谓“雪崩”
解决方案：1、不设置过期时间  2、设置过期时间，增加随机数数值  3、限流组件


## 布隆过滤器（Bloom Filter）
布隆过滤器（英语：Bloom Filter）是1970年由一个叫布隆的小伙子提出的。

- 作用：判断一个元素是否在集合中
- 场景：黑名单、白名单
- 原理：*它实际上是一个很长的二进制向量和一系列随机映射函数。*
当一个元素被放入集合时，通过k个散列函数将这个元素映射为一个位数组中的k个点，把它们置为1。

- 优点：空间利用率高、查询效率高
- 缺点：
1、存在误判：原因哈希碰撞
2、删除困难：删除的时候不能直接简单置为0，可能影响其他元素





